// import { assert } from './assert'
// import { getNodeDataType } from './html'
// import { q } from './selector'
import type { IComponent } from './types'

class Lake {
  definitions = new Map<string, [IComponent, string[]]>()

  static create() {
    return new Lake()
  }

  define = (id: string, fn: IComponent, deps = [] as string[]) => {
    this.definitions.set(id, [fn, deps])
  }

  require = (id: string) => {
    return this.definitions.get(id)
  }
}

const __ = Lake.create()

const lake = __.definitions
const defineComponent = __.define
const requireComponent = __.require

function onInit() {
  //
}

function onDestroy() {
  //
}

export { lake, defineComponent, requireComponent, onInit, onDestroy }
